# PWA (Progressive Web App) Setup

This wedding photo application now includes PWA functionality, allowing users to install it on their devices like a native app.

## Features Added

### 1. PWA Configuration
- **Service Worker**: Automatically generated by `next-pwa`
- **Web App Manifest**: `/public/manifest.json` with app metadata
- **App Icons**: Generated in multiple sizes (72x72 to 512x512)
- **Offline Support**: Basic caching for static assets

### 2. PWA Components

#### PWAInstallPrompt
- Shows an install prompt to users on supported browsers
- Appears automatically when PWA install criteria are met
- Can be dismissed by users
- Styled to match the wedding theme

#### PWAStatus
- Shows installation status
- Displays offline/online status
- Appears in top-right corner when relevant

### 3. Meta Tags
- Complete set of PWA meta tags added to `_app.jsx`
- Apple Touch Icons for iOS devices
- Theme colors matching the wedding design
- Proper viewport configuration for mobile

## Installation Requirements

The app will show an install prompt when:
1. The app is served over HTTPS (or localhost)
2. The app has a valid web manifest
3. The app has a registered service worker
4. The user has visited the app at least once

## Testing PWA Features

### Local Development
```bash
npm run dev
```
- Visit http://localhost:3000
- Install prompt may not appear in dev mode
- Service worker is disabled in development

### Production Testing
```bash
npm run build
npm run start
```
- Service worker is active
- Install prompts will work
- Offline functionality available

### Browser Support
- **Chrome/Edge**: Full PWA support including install prompts
- **Safari**: Basic PWA support, manual "Add to Home Screen"
- **Firefox**: Good PWA support

## PWA Features

### Install to Home Screen
- Users can install the app on their devices
- App appears in app drawer/home screen
- Launches in standalone mode (no browser UI)

### Offline Support
- Basic offline functionality for static assets
- Cached pages work without internet
- Upload functionality requires internet connection

### Push Notifications (Ready for Future)
- PWA infrastructure is ready for push notifications
- Can be added later for wedding updates/announcements

## Icon Generation

Icons are generated from `public/wedding-couple.png` using the included script:
```bash
./generate-pwa-icons.sh
```

This creates all required icon sizes in `/public/icons/`

## Files Added/Modified

### New Files
- `/public/manifest.json` - PWA manifest
- `/public/icons/` - Directory with all app icons
- `/public/icons/browserconfig.xml` - Windows tile configuration
- `/components/PWAInstallPrompt.jsx` - Install prompt component
- `/components/PWAStatus.jsx` - PWA status indicator
- `/generate-pwa-icons.sh` - Icon generation script

### Modified Files
- `/next.config.js` - Added PWA configuration
- `/pages/_app.jsx` - Added PWA meta tags
- `/pages/index.jsx` - Added PWA components
- `/package.json` - Added PWA build scripts

## Deployment Considerations

### HTTPS Required
- PWA features require HTTPS in production
- Localhost works for development

### Service Worker Caching
- Static assets are cached automatically
- Dynamic content (photos, wishes) still require internet
- Can be configured in `next.config.js`

### App Store Deployment
- PWA can be packaged for app stores using tools like:
  - PWABuilder (Microsoft)
  - Bubblewrap (Google)
  - Capacitor (Ionic)

## Future Enhancements

1. **Push Notifications**: Wedding day reminders, new photo alerts
2. **Background Sync**: Queue uploads when offline
3. **Advanced Caching**: Cache uploaded photos for offline viewing
4. **App Store Submission**: Package as native app for stores
5. **Shortcuts**: Add app shortcuts for quick photo upload
