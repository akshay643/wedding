"use strict";exports.id=3698,exports.ids=[3698],exports.modules={3698:(e,s,t)=>{t.r(s),t.d(s,{default:()=>components_WishModal});var a=t(997),r=t(6689),l=t(1203),i=t(7831),n=t(2279),o=t(2366),d=t(8387);let c=(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),m=(0,d.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var x=t(3655);let components_WishModal=({isOpen:e,onClose:s,onWishSubmitted:t})=>{let[d,h]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[b,f]=(0,r.useState)(!1),[y,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e||(h(""),p(""),g(!1))},[e]),(0,r.useEffect)(()=>{let handleEscape=t=>{"Escape"===t.key&&e&&s()};return e&&(document.addEventListener("keydown",handleEscape),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",handleEscape),document.body.style.overflow="unset"}},[e,s]);let handleSubmit=async e=>{if(e.preventDefault(),!d.trim()||!u.trim()){alert("Please fill in both your name and wish!");return}f(!0);try{let e=await fetch("/api/wishes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guestName:u.trim(),wish:d.trim(),timestamp:new Date().toISOString()})});if(e.ok)g(!0),t&&t(),setTimeout(()=>{s()},2500);else throw Error("Failed to submit wish")}catch(e){console.error("Error submitting wish:",e),alert("Failed to submit your wish. Please try again.")}finally{f(!1)}};return e?(0,a.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0",onClick:s,"aria-label":"Close modal"}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-auto relative animate-modal-enter",children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 z-10 p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close",children:a.jsx(l.Z,{className:"w-5 h-5 text-gray-500"})}),y?a.jsx("div",{className:"p-8 text-center",children:(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-pink-400 to-rose-400 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:a.jsx(i.Z,{className:"w-10 h-10 text-white",fill:"currentColor"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thank You! \uD83D\uDC95"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["Your beautiful wish has been saved for",a.jsx("br",{}),a.jsx("span",{className:"font-semibold text-pink-600",children:"Akshay & Tripti"})]}),a.jsx("div",{className:"flex justify-center gap-2 opacity-60",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>a.jsx(n.Z,{className:"w-5 h-5 text-yellow-500 animate-sparkle",style:{animationDelay:`${.3*s}s`}},s))})]})}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 px-6 py-5 rounded-t-2xl border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-400 to-rose-400 rounded-full flex items-center justify-center",children:a.jsx(o.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Wishes for the Couple"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Share your love and blessings"})]})]})}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[a.jsx(c,{className:"w-4 h-4 inline mr-1"}),"Your Name"]}),a.jsx("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"Enter your name...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors",disabled:b,autoFocus:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[a.jsx(i.Z,{className:"w-4 h-4 inline mr-1"}),"Your Wishes & Blessings"]}),a.jsx("textarea",{value:d,onChange:e=>h(e.target.value),placeholder:"Write your heartfelt wishes for Akshay & Tripti...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 resize-none transition-colors",disabled:b})]}),a.jsx("button",{type:"submit",disabled:b||!d.trim()||!u.trim(),className:"w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold py-4 px-6 rounded-xl hover:from-pink-600 hover:to-rose-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2 shadow-lg",children:b?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.default,{type:"pulse",size:"small"}),a.jsx("span",{children:"Sending your wish..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(m,{className:"w-5 h-5"}),a.jsx("span",{children:"Send Wishes"})]})})]}),a.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-2xl text-center",children:(0,a.jsxs)("p",{className:"text-xs text-gray-500 flex items-center justify-center gap-1",children:[a.jsx(i.Z,{className:"w-3 h-3 text-pink-400",fill:"currentColor"}),"Your wishes will be treasured forever",a.jsx(i.Z,{className:"w-3 h-3 text-pink-400",fill:"currentColor"})]})})]})]})]}):null}},1203:(e,s,t)=>{t.d(s,{Z:()=>r});var a=t(8387);let r=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}};