"use strict";exports.id=8711,exports.ids=[8711],exports.modules={8711:(e,t,l)=>{l.r(t),l.d(t,{default:()=>PWATestingComponent});var n=l(997),s=l(6689);function PWATestingComponent(){let[e,t]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1),[a,d]=(0,s.useState)(null),[c,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{o(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone),i(window.matchMedia("(display-mode: standalone)").matches);let handleBeforeInstallPrompt=e=>{console.log("beforeinstallprompt event fired"),e.preventDefault(),t(e)},handleAppInstalled=()=>{console.log("PWA was installed"),i(!0),t(null)};return window.addEventListener("beforeinstallprompt",handleBeforeInstallPrompt),window.addEventListener("appinstalled",handleAppInstalled),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then(e=>{d(e)}),fetch("/manifest.json").then(e=>e.json()).then(e=>h(e)).catch(e=>console.error("Error loading manifest:",e)),()=>{window.removeEventListener("beforeinstallprompt",handleBeforeInstallPrompt),window.removeEventListener("appinstalled",handleAppInstalled)}},[]);let handleInstallClick=async()=>{if(!e)return;let l=await e.prompt();console.log("Install prompt result:",l),"accepted"===l.outcome&&t(null)};return(0,n.jsxs)("div",{className:"fixed top-4 right-4 bg-white border border-gray-300 rounded-lg p-4 shadow-lg max-w-sm z-50",children:[n.jsx("h3",{className:"font-bold text-lg mb-2",children:"PWA Testing Panel"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Browser:"})," ",(()=>{let e=navigator.userAgent;return e.includes("Chrome")&&!e.includes("Edg")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")&&!e.includes("Chrome")?"Safari":e.includes("Edg")?"Edge":"Unknown"})()]}),(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Status:"})," ",r||l?"App is installed and running in standalone mode":e?"Installation prompt is available":"Installation not available yet"]}),(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Standalone Mode:"})," ",r?"✅ Yes":"❌ No"]}),(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Service Worker:"})," ",a?"✅ Registered":"❌ Not registered"]}),(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Manifest:"})," ",c?"✅ Loaded":"❌ Not loaded"]}),(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Install Prompt:"})," ",e?"✅ Available":"❌ Not available"]})]}),e&&n.jsx("button",{onClick:handleInstallClick,className:"mt-3 w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"\uD83D\uDCF1 Install App Now!"}),!e&&!l&&(0,n.jsxs)("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[n.jsx("strong",{children:"⚠️ Install prompt not ready yet."}),n.jsx("br",{}),'Try: DevTools → Application → Manifest → "Add to Home Screen"']}),(0,n.jsxs)("div",{className:"mt-3 text-xs text-gray-600",children:[n.jsx("p",{children:n.jsx("strong",{children:"Tips for testing:"})}),(0,n.jsxs)("ul",{className:"list-disc list-inside",children:[n.jsx("li",{children:"Use production build (current: production)"}),n.jsx("li",{children:"Visit site multiple times"}),n.jsx("li",{children:"Check Chrome DevTools > Application > Manifest"}),n.jsx("li",{children:"Force refresh (Cmd+Shift+R)"}),n.jsx("li",{children:"Mobile: http://192.168.1.5:3000"})]})]})]})}}};