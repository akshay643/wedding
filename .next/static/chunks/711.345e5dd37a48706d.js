"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{8711:function(e,n,l){l.r(n),l.d(n,{default:function(){return PWATestingComponent}});var t=l(5893),s=l(7294);function PWATestingComponent(){let[e,n]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1),[o,d]=(0,s.useState)(null),[c,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{a(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone),i(window.matchMedia("(display-mode: standalone)").matches);let handleBeforeInstallPrompt=e=>{console.log("beforeinstallprompt event fired"),e.preventDefault(),n(e)},handleAppInstalled=()=>{console.log("PWA was installed"),i(!0),n(null)};return window.addEventListener("beforeinstallprompt",handleBeforeInstallPrompt),window.addEventListener("appinstalled",handleAppInstalled),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then(e=>{d(e)}),fetch("/manifest.json").then(e=>e.json()).then(e=>h(e)).catch(e=>console.error("Error loading manifest:",e)),()=>{window.removeEventListener("beforeinstallprompt",handleBeforeInstallPrompt),window.removeEventListener("appinstalled",handleAppInstalled)}},[]);let handleInstallClick=async()=>{if(!e)return;let l=await e.prompt();console.log("Install prompt result:",l),"accepted"===l.outcome&&n(null)};return(0,t.jsxs)("div",{className:"fixed top-4 right-4 bg-white border border-gray-300 rounded-lg p-4 shadow-lg max-w-sm z-50",children:[(0,t.jsx)("h3",{className:"font-bold text-lg mb-2",children:"PWA Testing Panel"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Browser:"})," ",(()=>{let e=navigator.userAgent;return e.includes("Chrome")&&!e.includes("Edg")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")&&!e.includes("Chrome")?"Safari":e.includes("Edg")?"Edge":"Unknown"})()]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Status:"})," ",r||l?"App is installed and running in standalone mode":e?"Installation prompt is available":"Installation not available yet"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Standalone Mode:"})," ",r?"✅ Yes":"❌ No"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Service Worker:"})," ",o?"✅ Registered":"❌ Not registered"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Manifest:"})," ",c?"✅ Loaded":"❌ Not loaded"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Install Prompt:"})," ",e?"✅ Available":"❌ Not available"]})]}),e&&(0,t.jsx)("button",{onClick:handleInstallClick,className:"mt-3 w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"\uD83D\uDCF1 Install App Now!"}),!e&&!l&&(0,t.jsxs)("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[(0,t.jsx)("strong",{children:"⚠️ Install prompt not ready yet."}),(0,t.jsx)("br",{}),'Try: DevTools → Application → Manifest → "Add to Home Screen"']}),(0,t.jsxs)("div",{className:"mt-3 text-xs text-gray-600",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Tips for testing:"})}),(0,t.jsxs)("ul",{className:"list-disc list-inside",children:[(0,t.jsx)("li",{children:"Use production build (current: production)"}),(0,t.jsx)("li",{children:"Visit site multiple times"}),(0,t.jsx)("li",{children:"Check Chrome DevTools > Application > Manifest"}),(0,t.jsx)("li",{children:"Force refresh (Cmd+Shift+R)"}),(0,t.jsx)("li",{children:"Mobile: http://192.168.1.5:3000"})]})]})]})}}}]);