(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(7644)}])},7644:function(e,t,r){"use strict";r.r(t);var s=r(5893),a=r(7294),n=r(1163),o=r(9008),i=r.n(o),l=r(1590),c=r(6778),d=r(7831);t.default=()=>{let[e,t]=(0,a.useState)(1),[r,o]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(!1),[x,p]=(0,a.useState)(""),[f,b]=(0,a.useState)("/wedding-couple.png"),w=(0,n.useRouter)();(0,a.useEffect)(()=>{checkAuth(),loadBackgroundImage()},[]);let checkAuth=async()=>{try{let e=await fetch("/api/auth/verify");e.ok&&w.push("/")}catch(e){}},loadBackgroundImage=async()=>{try{console.log("Fetching background image from API...");let e=await fetch("/api/admin/login-background");if(e.ok){let t=await e.json();t.imageUrl&&(console.log("Received background image URL:",t.imageUrl),b(t.imageUrl))}}catch(e){console.error("Error loading background image:",e),console.log("Using default background image")}},handleLogin=async e=>{e.preventDefault(),g(!0),p("");try{let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.trim(),passcode:u.trim()})}),t=await e.json();e.ok?w.push("/"):p(t.error||"Invalid passcode")}catch(e){p("Something went wrong. Please try again.")}finally{g(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"Welcome - Akshay & Tripti Wedding"}),(0,s.jsx)("meta",{name:"description",content:"Join us in celebrating our special day"})]}),(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",style:{backgroundColor:"#f3f4f6"},children:["/wedding-couple.png"!==f&&(0,s.jsx)("img",{src:f+"&nocache="+new Date().getTime(),className:"absolute inset-0 w-full h-full object-cover",alt:"",style:{zIndex:0},onError:e=>{console.error("Failed to load high-quality background image, falling back to default"),b("/wedding-couple.png")}}),"/wedding-couple.png"===f&&(0,s.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(".concat(f,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/30"}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"absolute top-2 right-2 bg-black/70 text-white text-xs p-2 rounded z-50",children:[(0,s.jsxs)("div",{title:f,children:["URL: ",f.substring(0,20),"..."]}),(0,s.jsxs)("div",{children:["Type: ",f.includes("drive.google.com")?"Google Drive":"Other"]})]}),(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsx)("div",{className:"w-20 h-20 rounded-full border-4 border-white/80 overflow-hidden bg-white/10 backdrop-blur-sm",children:(0,s.jsx)("img",{src:"/wedding-couple.png",alt:"Couple",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})})}),(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 drop-shadow-lg",children:"Akshay & Tripti Weddingssss"}),(0,s.jsx)("p",{className:"text-white/90 text-lg mb-6 drop-shadow-md",children:"Please Share your photos & videos with us for this special day! ❤️"})]}),(0,s.jsx)("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/20",children:1===e?(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r.trim()&&(p(""),t(2))},className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,s.jsx)("input",{type:"text",id:"name",value:r,onChange:e=>o(e.target.value),placeholder:"Enter your name",className:"w-full px-4 py-4 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all text-lg bg-white/80",required:!0})]}),x&&(0,s.jsx)("div",{className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded-xl",children:x}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-rose-600 text-white py-4 px-6 rounded-2xl font-semibold text-lg hover:from-pink-600 hover:to-rose-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 shadow-lg",children:"Let's Go!"})]}):(0,s.jsxs)("form",{onSubmit:handleLogin,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Welcome, ",r,"! \uD83D\uDC4B"]}),(0,s.jsx)("p",{className:"text-gray-600",children:"Enter the passcode to access our photo collection"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"passcode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passcode"}),(0,s.jsx)("input",{type:"password",id:"passcode",value:u,onChange:e=>h(e.target.value),placeholder:"Enter passcode",className:"w-full px-4 py-4 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all text-lg bg-white/80 text-center tracking-widest",required:!0})]}),x&&(0,s.jsx)("div",{className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded-xl",children:x}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{t(1),p(""),h("")},className:"flex-1 bg-gray-100 text-gray-700 py-4 px-6 rounded-2xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5"}),"Back"]}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"flex-1 bg-gradient-to-r from-pink-500 to-rose-600 text-white py-4 px-6 rounded-2xl font-semibold hover:from-pink-600 hover:to-rose-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m?(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,s.jsxs)(s.Fragment,{children:["Enter",(0,s.jsx)(c.Z,{className:"w-5 h-5"})]})})]})]})}),(0,s.jsx)("div",{className:"flex justify-center gap-2 mt-8",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(d.Z,{className:"w-4 h-4 text-white/70 animate-pulse",fill:"currentColor",style:{animationDelay:"".concat(.2*t,"s")}},t))})]})]})]})}},1163:function(e,t,r){e.exports=r(9974)},8387:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon$1}});var s=r(7294),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var createLucideIcon$1=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},d)=>(0,s.createElement)("svg",{ref:d,...a,width:n,height:n,stroke:r,strokeWidth:i?24*Number(o)/Number(n):o,className:`lucide lucide-${toKebabCase(e)}`,...c},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r}},1590:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(8387);let a=(0,s.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6778:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(8387);let a=(0,s.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7831:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(8387);let a=(0,s.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);