(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[262],{3700:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login-new",function(){return o(8784)}])},8784:function(e,t,o){"use strict";o.r(t);var a=o(5893),n=o(5379),i=o.n(n),s=o(7294),r=o(1163),l=o(9008),c=o.n(l),d=o(7831),u=o(1590),m=o(6778);t.default=()=>{let[e,t]=(0,s.useState)(1),[o,n]=(0,s.useState)(""),[l,f]=(0,s.useState)(""),[g,h]=(0,s.useState)(!1),[p,y]=(0,s.useState)(""),[x,b]=(0,s.useState)("/wedding-couple.png"),[w,k]=(0,s.useState)(!0),[v,j]=(0,s.useState)(0),[N,I]=(0,s.useState)("fade-in"),S=(0,r.useRouter)(),L=["A successful marriage requires falling in love many times, always with the same person.","A great marriage is not when the perfect couple comes together. It is when an imperfect couple learns to enjoy their differences.","The best thing to hold onto in life is each other.","Love doesn't make the world go 'round. Love is what makes the ride worthwhile.","To love and be loved is to feel the sun from both sides.","A wedding is a celebration of love, commitment, shared joy, and a promise for the future.","True love stories never have endings.","In all the world, there is no heart for me like yours. In all the world, there is no love for you like mine.","Once in a while, right in the middle of an ordinary life, love gives us a fairy tale.","When you realize you want to spend the rest of your life with somebody, you want the rest of your life to start as soon as possible."];(0,s.useEffect)(()=>{if(w){let e=setInterval(()=>{"fade-in"===N?I("fade-out"):(I("fade-in"),j(e=>(e+1)%L.length))},4e3);return()=>clearInterval(e)}},[w,N,L.length]),(0,s.useEffect)(()=>{checkAuth(),loadBackgroundImage()},[]);let checkAuth=async()=>{try{let e=await fetch("/api/auth/verify");e.ok&&S.push("/")}catch(e){console.log("Auth check failed, staying on login page")}},loadBackgroundImage=async()=>{try{let o=await fetch("/api/admin/login-background");if(o.ok){let a=await o.json();if(a.imageUrl){let o=[],n=null;if(a.fileId)n=a.fileId;else if(a.imageUrl.includes("drive.google.com")){var e,t;n=(null===(e=a.imageUrl.match(/id=([^&]+)/))||void 0===e?void 0:e[1])||(null===(t=a.imageUrl.match(/\/d\/([^/]+)/))||void 0===t?void 0:t[1])}o=n?["https://lh3.googleusercontent.com/d/".concat(n),"https://drive.google.com/uc?export=download&id=".concat(n),"https://drive.google.com/thumbnail?id=".concat(n,"&sz=w2000"),"https://drive.google.com/uc?export=view&id=".concat(n),a.thumbnailUrl,a.viewUrl,a.directUrl,a.imageUrl,"/wedding-couple.png"].filter(Boolean):[a.imageUrl];let i="".concat(o[0]).concat(o[0].includes("?")?"&":"?","t=").concat(new Date().getTime()),tryLoadImage=e=>{if(e>=o.length){console.log("All background image URLs failed, using default"),b("/wedding-couple.png"),k(!1);return}let t=0===e?i:o[e];console.log("Trying URL format ".concat(e+1,":"),t);let a=new Image;a.crossOrigin="anonymous",a.onload=()=>{console.log("Background image loaded successfully with format ".concat(e+1)),b(t),k(!1)},a.onerror=()=>{console.log("Format ".concat(e+1," failed, trying next URL format")),tryLoadImage(e+1)};let n=setTimeout(()=>{console.log("Format ".concat(e+1," timed out, trying next URL format")),a.src="",tryLoadImage(e+1)},5e3);a.onload=()=>{clearTimeout(n),console.log("Background image loaded successfully with format ".concat(e+1)),b(t),k(!1)},a.onerror=()=>{clearTimeout(n),console.log("Format ".concat(e+1," failed, trying next URL format")),tryLoadImage(e+1)},a.src=t};tryLoadImage(0)}else k(!1)}else k(!1)}catch(e){k(!1)}},handleLogin=async e=>{e.preventDefault(),h(!0),y("");try{let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.trim(),passcode:l.trim()})}),t=await e.json();e.ok?S.push("/"):y(t.error||"Invalid passcode")}catch(e){y("Something went wrong. Please try again.")}finally{h(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{className:"jsx-e729ebc0dfdfdefb",children:"Welcome - Akshay & Tripti Wedding"}),(0,a.jsx)("meta",{name:"description",content:"Join us in celebrating our special day",className:"jsx-e729ebc0dfdfdefb"}),(0,a.jsx)(i(),{id:"e729ebc0dfdfdefb",children:"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOut{from{opacity:1}to{opacity:0}}@-moz-keyframes fadeOut{from{opacity:1}to{opacity:0}}@-o-keyframes fadeOut{from{opacity:1}to{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0}}.fade-in{-webkit-animation:fadeIn 1.5s ease-in-out;-moz-animation:fadeIn 1.5s ease-in-out;-o-animation:fadeIn 1.5s ease-in-out;animation:fadeIn 1.5s ease-in-out}.fade-out{-webkit-animation:fadeOut 1.5s ease-in-out;-moz-animation:fadeOut 1.5s ease-in-out;-o-animation:fadeOut 1.5s ease-in-out;animation:fadeOut 1.5s ease-in-out}"})]}),(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",style:{backgroundColor:"#f3f4f6"},children:[w&&(0,a.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-gradient-to-r from-pink-300 to-purple-400",children:(0,a.jsxs)("div",{className:"max-w-2xl text-center p-8 transition-opacity duration-1000 ".concat("fade-in"===N?"opacity-100":"opacity-0"),children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)(d.Z,{className:"w-8 h-8 text-white",fill:"white"})}),(0,a.jsxs)("p",{className:"text-white text-xl md:text-2xl font-medium italic",children:['"',L[v],'"']})]})}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 z-0 transition-opacity duration-1000 ".concat(w?"opacity-0":"opacity-100"),style:{backgroundImage:'url("'.concat(x,'")'),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"luminosity"}}),(0,a.jsx)("img",{src:x,alt:"Wedding Background",className:"absolute inset-0 w-full h-full object-cover z-0 transition-opacity duration-1000 ".concat(w?"opacity-0":"opacity-100"),style:{display:"none",objectPosition:"center"},onError:e=>{console.log("Fallback IMG tag failed, using default image"),e.target.src="/wedding-couple.png",e.target.style.display="block"},onLoad:e=>{setTimeout(()=>{let t=window.getComputedStyle(e.target.previousSibling),o=t.backgroundImage&&"none"!==t.backgroundImage&&!t.backgroundImage.includes("wedding-couple.png");o?console.log("CSS background working, keeping IMG tag hidden"):(console.log("CSS background not detected, showing IMG tag fallback"),e.target.style.display="block")},300)}})]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/30"}),(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,a.jsx)("div",{className:"flex justify-center mb-8",children:(0,a.jsx)("div",{className:"w-20 h-20 rounded-full border-4 border-white/80 overflow-hidden bg-white/10 backdrop-blur-sm",children:(0,a.jsx)("img",{src:"/wedding-couple.png",alt:"Couple",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})})}),(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 drop-shadow-lg",children:"Akshay & Tripti Wedding"}),(0,a.jsx)("p",{className:"text-white/90 text-lg mb-6 drop-shadow-md",children:"Please Share your photos & videos with us for this special day! ❤️"})]}),(0,a.jsx)("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 border border-white/20 mt-auto",children:1===e?(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.trim()&&(y(""),t(2))},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome to our wedding celebration! Please share your name with us"}),(0,a.jsx)("input",{type:"text",id:"name",value:o,onChange:e=>n(e.target.value),placeholder:"Enter your name",className:"w-full px-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all text-base bg-white/80",required:!0})]}),p&&(0,a.jsx)("div",{className:"text-red-600 text-sm text-center bg-red-50 p-2 rounded-xl",children:p}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-rose-600 text-white py-3 px-4 rounded-xl font-semibold text-base hover:from-pink-600 hover:to-rose-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 shadow-lg",children:"Let's Go!"})]}):(0,a.jsxs)("form",{onSubmit:handleLogin,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:["Welcome, ",o,"! \uD83D\uDC4B"]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Enter the passcode to access our photo collection"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"passcode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passcode"}),(0,a.jsx)("input",{type:"password",id:"passcode",value:l,onChange:e=>f(e.target.value),placeholder:"Enter passcode",className:"w-full px-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all text-base bg-white/80 text-center tracking-widest",required:!0})]}),p&&(0,a.jsx)("div",{className:"text-red-600 text-sm text-center bg-red-50 p-2 rounded-xl",children:p}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{t(1),y(""),f("")},className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center gap-2 text-sm",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),"Back"]}),(0,a.jsx)("button",{type:"submit",disabled:g,className:"flex-1 bg-gradient-to-r from-pink-500 to-rose-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-pink-600 hover:to-rose-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:g?(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsxs)(a.Fragment,{children:["Enter",(0,a.jsx)(m.Z,{className:"w-4 h-4"})]})})]})]})})]})]})]})}}},function(e){e.O(0,[580,774,888,179],function(){return e(e.s=3700)}),_N_E=e.O()}]);