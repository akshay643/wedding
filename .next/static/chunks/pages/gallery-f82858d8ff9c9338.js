(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{1896:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return l(4266)}])},2550:function(e,t,l){"use strict";var a=l(5893),n=l(7294),o=l(1163);t.Z=e=>t=>{let[l,r]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!0),d=(0,o.useRouter)();(0,n.useEffect)(()=>{checkAuth()},[]);let checkAuth=async()=>{try{let e=await fetch("/api/auth/verify");e.ok?r(!0):d.push("/login")}catch(e){d.push("/login")}finally{i(!1)}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-orange-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-pink-200 border-t-pink-500 rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):l?(0,a.jsx)(e,{...t}):null}},1342:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{noSSR:function(){return noSSR},default:function(){return dynamic}});let a=l(8754),n=(l(7294),a._(l(4304)));function convertModule(e){return{default:(null==e?void 0:e.default)||e}}function noSSR(e,t){return delete t.webpack,delete t.modules,e(t)}function dynamic(e,t){let l=n.default,a={loading:e=>{let{error:t,isLoading:l,pastDelay:a}=e;return null}};e instanceof Promise?a.loader=()=>e:"function"==typeof e?a.loader=e:"object"==typeof e&&(a={...a,...e}),a={...a,...t};let o=a.loader;return(a.loadableGenerated&&(a={...a,...a.loadableGenerated},delete a.loadableGenerated),"boolean"!=typeof a.ssr||a.ssr)?l({...a,loader:()=>null!=o?o().then(convertModule):Promise.resolve(convertModule(()=>null))}):(delete a.webpack,delete a.modules,noSSR(l,a))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return o}});let a=l(8754),n=a._(l(7294)),o=n.default.createContext(null)},4304:function(e,t,l){"use strict";/**
@copyright (c) 2017-present James Kyle <me@thejameskyle.com>
 MIT License
 Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:
 The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE
*/Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let a=l(8754),n=a._(l(7294)),o=l(43);function resolve(e){return e&&e.default?e.default:e}let r=[],s=[],i=!1;function load(e){let t=e(),l={loading:!0,loaded:null,error:null};return l.promise=t.then(e=>(l.loading=!1,l.loaded=e,e)).catch(e=>{throw l.loading=!1,l.error=e,e}),l}function createLoadableComponent(e,t){let l=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),a=null;function init(){if(!a){let t=new LoadableSubscription(e,l);a={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return a.promise()}if(!i){let e=l.webpack?l.webpack():l.modules;e&&s.push(t=>{for(let l of e)if(t.includes(l))return init()})}function useLoadableModule(){init();let e=n.default.useContext(o.LoadableContext);e&&Array.isArray(l.modules)&&l.modules.forEach(t=>{e(t)})}function LoadableComponent(e,t){useLoadableModule();let o=n.default.useSyncExternalStore(a.subscribe,a.getCurrentValue,a.getCurrentValue);return n.default.useImperativeHandle(t,()=>({retry:a.retry}),[]),n.default.useMemo(()=>o.loading||o.error?n.default.createElement(l.loading,{isLoading:o.loading,pastDelay:o.pastDelay,timedOut:o.timedOut,error:o.error,retry:a.retry}):o.loaded?n.default.createElement(resolve(o.loaded),e):null,[e,o])}return LoadableComponent.preload=()=>init(),LoadableComponent.displayName="LoadableComponent",n.default.forwardRef(LoadableComponent)}let LoadableSubscription=class LoadableSubscription{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}};function Loadable(e){return createLoadableComponent(load,e)}function flushInitializers(e,t){let l=[];for(;e.length;){let a=e.pop();l.push(a(t))}return Promise.all(l).then(()=>{if(e.length)return flushInitializers(e,t)})}Loadable.preloadAll=()=>new Promise((e,t)=>{flushInitializers(r).then(e,t)}),Loadable.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let res=()=>(i=!0,t());flushInitializers(s,e).then(res,res)})),window.__NEXT_PRELOADREADY=Loadable.preloadReady;let d=Loadable},4266:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return j}});var a=l(5893),n=l(7294),o=l(1590),r=l(7831),s=l(8387);let i=(0,s.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var d=l(9067),c=l(9464),u=l(3079),h=l(7259);let m=(0,s.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var p=l(2600),b=l(1203);let g=(0,s.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),f=(0,s.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var x=l(5152),y=l.n(x),w=l(2550);let v=y()(()=>l.e(655).then(l.bind(l,3655)),{loadableGenerated:{webpack:()=>[3655]},ssr:!1}),k=[{id:"all",name:"All Events"},{id:"mehndi",name:"Mehndi"},{id:"haldi",name:"Haldi"},{id:"dj-night",name:"DJ Night"},{id:"wedding",name:"Wedding"}],fetchGalleryImages=async e=>{let t=await fetch("/api/gallery?event=".concat(e));return t.json()};var j=(0,w.Z)(()=>{var e,t,l;let[s,x]=(0,n.useState)([]),[y,w]=(0,n.useState)("all"),[j,N]=(0,n.useState)(null),[C,_]=(0,n.useState)(0),[S,L]=(0,n.useState)(!1),[D,Z]=(0,n.useState)(new Set),[E,z]=(0,n.useState)(!1),[P,I]=(0,n.useState)(!1),[T,A]=(0,n.useState)({current:0,total:0}),[M,O]=(0,n.useState)(null),[V,R]=(0,n.useState)(null),handleLogout=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/login"}catch(e){console.error("Logout error:",e)}};(0,n.useEffect)(()=>{L(!0),fetchGalleryImages(y).then(e=>{x(e.images||[]),L(!1),Z(new Set)})},[y]),(0,n.useEffect)(()=>{let handleKeyPress=e=>{if(j)switch(e.key){case"ArrowLeft":e.preventDefault(),prevImage();break;case"ArrowRight":e.preventDefault(),nextImage();break;case"Escape":e.preventDefault(),closeCarousel()}};return j&&(document.addEventListener("keydown",handleKeyPress),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",handleKeyPress),document.body.style.overflow="unset"}},[j]);let toggleSelection=e=>{let t=new Set(D);t.has(e)?t.delete(e):t.add(e),Z(t)},clearSelection=()=>{Z(new Set),z(!1)},handleDownload=async e=>{try{let t=document.createElement("div");t.className="fixed top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",t.textContent="Preparing download...",document.body.appendChild(t);let l="/api/download?fileId=".concat(e.id,"&fileName=").concat(encodeURIComponent(e.name||"wedding-photo.jpg")),a=document.createElement("a");a.style.display="none",a.href=l,a.download=e.name||"wedding-photo.jpg",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},2e3)}catch(o){console.error("Download failed:",o);let t=document.querySelector(".fixed.top-4.right-4");t&&document.body.removeChild(t);let l=document.createElement("div");l.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",l.textContent="Download failed. Please try again.",document.body.appendChild(l),setTimeout(()=>{document.body.contains(l)&&document.body.removeChild(l)},3e3);let a=e.webContentLink||e.webViewLink||"https://drive.google.com/uc?export=download&id=".concat(e.id),n=window.open(a,"_blank");n||alert("Download failed. Please allow popups and try again, or right-click the image to save.")}},handleBulkDownload=async()=>{if(0===D.size)return;I(!0);let e=s.filter(e=>D.has(e.id));A({current:0,total:e.length});let t=document.createElement("div");t.className="fixed top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",t.id="bulk-download-progress",document.body.appendChild(t);for(let l=0;l<e.length;l++){let a=e[l];A({current:l+1,total:e.length}),t.textContent="Downloading ".concat(l+1," of ").concat(e.length," photos...");try{l>0&&await new Promise(e=>setTimeout(e,1e3));let e="/api/download?fileId=".concat(a.id,"&fileName=").concat(encodeURIComponent(a.name||"wedding-photo-".concat(l+1,".jpg"))),t=document.createElement("a");t.style.display="none",t.href=e,t.download=a.name||"wedding-photo-".concat(l+1,".jpg"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(e){console.error("Failed to download ".concat(a.name,":"),e)}}document.body.contains(t)&&document.body.removeChild(t);let l=document.createElement("div");l.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",l.textContent="Downloaded ".concat(e.length," photos successfully!"),document.body.appendChild(l),setTimeout(()=>{document.body.contains(l)&&document.body.removeChild(l)},3e3),I(!1),A({current:0,total:0}),clearSelection()},handleShare=async e=>{let t=e.webViewLink||e.webContentLink||e.url;navigator.share?await navigator.share({url:t,title:"Wedding Photo - ".concat(e.name),text:"Check out this beautiful wedding photo!"}):(await navigator.clipboard.writeText(t),alert("High-quality image link copied to clipboard!"))},openCarousel=e=>{_(e),N(s[e].fullUrl||s[e].webContentLink||s[e].url)},nextImage=()=>{let e=(C+1)%s.length;_(e),N(s[e].fullUrl||s[e].webContentLink||s[e].url)},prevImage=()=>{let e=0===C?s.length-1:C-1;_(e),N(s[e].fullUrl||s[e].webContentLink||s[e].url)},closeCarousel=()=>{N(null),_(0)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-orange-50",children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40 shadow-sm",children:(0,a.jsxs)("div",{className:"px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-gray-600"}),(0,a.jsx)("span",{className:"hidden sm:inline text-gray-600",children:"Back"})]}),(0,a.jsxs)("h1",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"w-5 h-5 text-pink-500",fill:"currentColor"}),"Gallery"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("a",{href:"/",className:"flex items-center gap-1 px-3 py-2 bg-pink-500 hover:bg-pink-600 text-white rounded-lg font-medium transition-all duration-200 hover:scale-105 shadow-md",title:"Home",children:[(0,a.jsx)(i,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Home"})]}),(0,a.jsxs)("button",{onClick:handleLogout,className:"flex items-center gap-1 px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-all duration-200 hover:scale-105 shadow-md",title:"Logout",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),(0,a.jsx)("div",{className:"flex gap-2 mt-3 overflow-x-auto pb-1",children:k.map(e=>(0,a.jsx)("button",{onClick:()=>w(e.id),className:"px-4 py-2 text-sm rounded-xl whitespace-nowrap font-medium transition-all duration-200 ".concat(y===e.id?"bg-pink-500 text-white shadow-md scale-105":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"),children:e.name},e.id))})]})}),E&&(0,a.jsx)("div",{className:"bg-pink-50 border-b border-pink-100 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-pink-700 font-medium",children:[D.size," selected"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{Z(new Set(s.map(e=>e.id)))},className:"px-3 py-1.5 text-sm bg-pink-500 text-white rounded-lg",children:"All"}),(0,a.jsx)("button",{onClick:clearSelection,className:"px-3 py-1.5 text-sm bg-gray-500 text-white rounded-lg",children:"Cancel"}),D.size>0&&(0,a.jsxs)("button",{onClick:handleBulkDownload,disabled:P,className:"px-3 py-1.5 text-sm bg-green-500 text-white rounded-lg disabled:opacity-50 flex items-center gap-1",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"Download"]})]})]})}),P&&(0,a.jsxs)("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-blue-700 font-medium",children:"Downloading..."}),(0,a.jsxs)("span",{className:"text-sm text-blue-600",children:[T.current,"/",T.total]})]}),(0,a.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-1",children:(0,a.jsx)("div",{className:"bg-blue-500 h-1 rounded-full transition-all duration-300",style:{width:"".concat(T.current/T.total*100,"%")}})})]}),(0,a.jsx)("div",{className:"px-4 py-4",children:S?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(v,{type:"hearts",text:"Loading your beautiful memories...",size:"large"})}):0===s.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[(0,a.jsx)(r.Z,{className:"w-12 h-12 mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"No photos yet"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Photos will appear here once uploaded"})]}):(0,a.jsxs)(a.Fragment,{children:[!E&&s.length>0&&(0,a.jsx)("div",{className:"flex gap-2 mb-4",children:(0,a.jsxs)("button",{onClick:()=>z(!0),className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-1",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),"Select"]})}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[E&&(0,a.jsx)("div",{className:"absolute top-2 left-2 z-10",onClick:()=>toggleSelection(e.id),children:D.has(e.id)?(0,a.jsx)("div",{className:"w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"w-4 h-4 text-white"})}):(0,a.jsx)("div",{className:"w-6 h-6 bg-white/80 border-2 border-gray-300 rounded-full backdrop-blur-sm"})}),(0,a.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-xl ".concat(D.has(e.id)?"ring-2 ring-pink-500":""),onClick:()=>{E?toggleSelection(e.id):openCarousel(t)},children:[e.isVideo?(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover cursor-pointer hover:scale-105 transition-transform duration-200",loading:"lazy",onError:e=>{console.log("Thumbnail failed, showing video placeholder"),e.target.style.display="none";let t=e.target.parentElement.querySelector(".video-fallback"),l=e.target.parentElement.querySelector(".placeholder-fallback");t?(t.style.display="block",t.load()):l&&(l.style.display="flex")}}),(0,a.jsx)("video",{className:"video-fallback w-full h-full object-cover cursor-pointer hover:scale-105 transition-transform duration-200",style:{display:"none"},src:e.fullUrl,muted:!0,playsInline:!0,preload:"metadata",onLoadedData:e=>{e.target.currentTime=1},onError:e=>{console.log("Video loading failed, showing placeholder"),e.target.style.display="none";let t=e.target.parentElement.querySelector(".placeholder-fallback");t&&(t.style.display="flex")}}),(0,a.jsx)("div",{className:"placeholder-fallback absolute inset-0 bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center",style:{display:"none"},children:(0,a.jsxs)("div",{className:"text-center text-white",children:[(0,a.jsx)(m,{className:"w-12 h-12 mx-auto mb-2 opacity-70",fill:"currentColor"}),(0,a.jsx)("div",{className:"text-xs opacity-70",children:"Video"})]})}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 pointer-events-none",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-black/60 rounded-full flex items-center justify-center backdrop-blur-sm",children:(0,a.jsx)(m,{className:"w-8 h-8 text-white ml-1",fill:"currentColor"})})}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded backdrop-blur-sm pointer-events-none",children:"\uD83C\uDFA5 Video"})]}):(0,a.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover cursor-pointer hover:scale-105 transition-transform duration-200",loading:"lazy"}),!E&&e.uploader&&"Unknown"!==e.uploader&&(0,a.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-lg backdrop-blur-sm",children:["\uD83D\uDCF8 ",e.uploader]}),!E&&(0,a.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),handleDownload(e)},className:"p-1.5 bg-white/90 rounded-full hover:bg-white transition-colors shadow-lg",title:"Download",children:(0,a.jsx)(c.Z,{className:"w-4 h-4 text-gray-700"})}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),handleShare(e)},className:"p-1.5 bg-white/90 rounded-full hover:bg-white transition-colors shadow-lg",title:"Share",children:(0,a.jsx)(p.Z,{className:"w-4 h-4 text-gray-700"})})]})]})]},e.id))})]})}),j&&(0,a.jsxs)("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[(0,a.jsx)("button",{className:"absolute top-4 right-4 text-white/80 hover:text-white text-2xl z-20 bg-black/30 rounded-full p-2 backdrop-blur-sm",onClick:closeCarousel,children:(0,a.jsx)(b.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 text-white z-20 space-y-1",children:[(0,a.jsxs)("div",{className:"bg-black/50 px-3 py-2 rounded-lg text-sm backdrop-blur-sm",children:[C+1," of ",s.length]}),(null===(e=s[C])||void 0===e?void 0:e.isVideo)&&(0,a.jsx)("div",{className:"bg-black/50 px-3 py-2 rounded-lg text-sm backdrop-blur-sm",children:"\uD83C\uDFA5 Video"}),(null===(t=s[C])||void 0===t?void 0:t.uploader)&&"Unknown"!==s[C].uploader&&(0,a.jsxs)("div",{className:"bg-black/50 px-3 py-2 rounded-lg text-sm backdrop-blur-sm",children:["\uD83D\uDCF8 ",s[C].uploader]})]}),s.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-white/80 p-3 rounded-full bg-black/30 hover:bg-black/50 transition-all z-20 backdrop-blur-sm",onClick:prevImage,children:(0,a.jsx)(g,{className:"w-8 h-8"})}),(0,a.jsx)("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-white/80 p-3 rounded-full bg-black/30 hover:bg-black/50 transition-all z-20 backdrop-blur-sm",onClick:nextImage,children:(0,a.jsx)(f,{className:"w-8 h-8"})})]}),(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center p-4",onTouchStart:e=>{R(null),O(e.targetTouches[0].clientX)},onTouchMove:e=>{R(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!M||!V)return;let e=M-V;e>50?nextImage():e<-50&&prevImage()},children:(null===(l=s[C])||void 0===l?void 0:l.isVideo)?(0,a.jsx)("video",{src:j,controls:!0,className:"max-w-full max-h-full object-contain select-none",style:{maxWidth:"100vw",maxHeight:"100vh"},playsInline:!0,preload:"metadata",onError:e=>{console.error("Failed to load video, falling back to thumbnail");let t=s[C];(null==t?void 0:t.url)&&e.target.src!==t.url&&(e.target.src=t.url)}}):(0,a.jsx)("img",{src:j,alt:"Full size preview",className:"max-w-full max-h-full object-contain select-none",style:{maxWidth:"100vw",maxHeight:"100vh"},onClick:nextImage,draggable:!1,onError:e=>{console.error("Failed to load full image, falling back to thumbnail");let t=s[C];(null==t?void 0:t.url)&&e.target.src!==t.url&&(e.target.src=t.url)}})}),(0,a.jsxs)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-3 z-20",children:[(0,a.jsxs)("button",{onClick:()=>handleDownload(s[C]),className:"px-4 py-3 bg-black/50 text-white rounded-xl hover:bg-black/70 transition-all flex items-center gap-2 backdrop-blur-sm font-medium",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"Download"]}),(0,a.jsxs)("button",{onClick:()=>handleShare(s[C]),className:"px-4 py-3 bg-black/50 text-white rounded-xl hover:bg-black/70 transition-all flex items-center gap-2 backdrop-blur-sm font-medium",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),"Share"]})]})]})]})})},5152:function(e,t,l){e.exports=l(1342)},1163:function(e,t,l){e.exports=l(9974)},8387:function(e,t,l){"use strict";l.d(t,{Z:function(){return createLucideIcon$1}});var a=l(7294),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var createLucideIcon$1=(e,t)=>{let l=(0,a.forwardRef)(({color:l="currentColor",size:o=24,strokeWidth:r=2,absoluteStrokeWidth:s,children:i,...d},c)=>(0,a.createElement)("svg",{ref:c,...n,width:o,height:o,stroke:l,strokeWidth:s?24*Number(r)/Number(o):r,className:`lucide lucide-${toKebabCase(e)}`,...d},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...(Array.isArray(i)?i:[i])||[]]));return l.displayName=`${e}`,l}},1590:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var a=l(8387);let n=(0,a.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3079:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var a=l(8387);let n=(0,a.Z)("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]])},7259:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var a=l(8387);let n=(0,a.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},9464:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var a=l(8387);let n=(0,a.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},7831:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var a=l(8387);let n=(0,a.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9067:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var a=l(8387);let n=(0,a.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},2600:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var a=l(8387);let n=(0,a.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},1203:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var a=l(8387);let n=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1896)}),_N_E=e.O()}]);